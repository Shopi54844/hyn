module.exports.config={name:"حظر",version:"1.0.0",hasPermssion:1,credits:"زعيم الاحمر",description:" _banحظر المستخدمين حصريًا لدردشة  BOX",commandCategory:"bot admin",usages:"[ID or text] أو علامة@",cooldowns:5},module.exports.languages={en:{reason:"سبب",at:"في",allCommand:"الأمر كله",commandList:"أوامر",banSuccess:"[ حظر مستخدم ] تمت معالجة طلب حظر المستخدم بنجاح: %1",banCommandSuccess:"[ banCommand User ] تمت معالجة طلب حظر المستخدم بنجاح: %1",errorReponse:"%1 تعذر إكمال الوظيفة التي طلبتها",IDNotFound:"%1 معرف المستخدم الذي أدخلته غير موجود في قاعدة البيانات",existBan:"[ حظر مستخدم ] تم حظر المستخدم %1 من قبل %2 %3",missingCommandInput:"%1 لا يمكن ترك جزء الأمر الذي سيتم حظره فارغًا!",returnBan:"[ حظر ] أنت الآن تطلب حظر المستخدم:\n- المعرف واسم المستخدم للحظر: %1%2\n\n❮ ايموجي على رساله للموافقه ❯",returnBanCommand:"[ banCommand User ] أنت تطلب حاليًا حظر المستخدم:\n - المعرف واسم المستخدم للحظر: %1\n- أوامر بالحظر: %2\n\n❮ ايموجي على رساله للموافقه ❯",returnResult:"هذه هي النتيجة الصحيحة: \n",returnNull:"لم يتم العثور على نتائج بناء على بحثك!",returnList:"[ User List ]\nتم حظر1% مستخدم حاليًا ، هنا 2%مستخدم\n\n%3",returnInfo:"[ Info User ] فيما يلي بعض المعلومات حول المستخدم الذي تريد البحث عنه:\n- معرف المستخدم والاسم: %1n- هل تم حظره؟?: %2 %3 %4\n- Bị إعطاء الأوامر?: %5"},vi:{reason:"Reason",at:"At",allCommand:"All commands",commandList:"Commands",banSuccess:"[ Ban User ] Banned user: %1",banCommandSuccess:"[ banCommand User ] Banned command with user: %1",errorReponse:"%1 Can't do what you request",IDNotFound:"%1 ID you import doesn't exist in database",existBan:"[ Ban User ] User %1 has been banned before %2 %3",missingCommandInput:"%1 You have to import the command you want to ban!",returnBan:"[ Ban User ] You are requesting to ban user:\n- User ID and name who you want to ban: %1%2\n\n❮ Reaction this message to complete ❯",returnBanCommand:"[ banCommand User ] You are requesting to ban command with user:\n - User ID and name who you want to ban: %1\n- Commands: %2\n\n❮ Reaction this message to complete ❯",returnResult:"This is your result: \n",returnNull:"There is no result with your input!",returnList:"[ User List ]There are %1 banned user, here are %2 user\n\n%3",returnInfo:"[ Info User ] Here is some information about the user who you want to find:\n- User ID and name: %1n- Banned?: %2 %3 %4\n- Command banned?: %5"}},module.exports.handleReaction=async({event:n,api:e,Users:a,handleReaction:t,getText:s})=>{if(parseInt(n.userID)!==parseInt(t.author))return;const r=require("moment-timezone"),{threadID:o}=n,{messageID:i,type:d,targetID:m,reason:u,nameTarget:g}=t,c=r.tz("Asia/Ho_Chi_minh").format("HH:MM:ss L");if(global.client.handleReaction.splice(global.client.handleReaction.findIndex((n=>n.messageID==i)),1),"ban"===d)try{let n=(await a.getData(m)).data||{};return n.banned=!0,n.reason=u||null,n.dateAdded=c,await a.setData(m,{data:n}),global.data.userBanned.set(m,{reason:n.reason,dateAdded:n.dateAdded}),e.sendMessage(s("banSuccess",`${m} - ${g}`),o,(()=>e.unsendMessage(i)))}catch{return e.sendMessage(s("errorReponse","[ Ban User ]"),o)}},module.exports.run=async({event:n,api:e,args:a,Users:t,getText:s})=>{const{threadID:r,messageID:o}=n;var i=String(a[0]),d=a.slice(2,a.length).join(" ")||null;if(isNaN(i)){const e=Object.keys(n.mentions);a=a.join(" "),i=String(e[0]),d=a.slice(a.indexOf(n.mentions[e[0]])+(n.mentions[e[0]]||"").length+1,a.length)||null}if(!global.data.allUserID.includes(i))return e.sendMessage(s("IDNotFound","[ Ban User ]"),r,o);if(global.data.userBanned.has(i)){const{reason:n,dateAdded:a}=global.data.userBanned.get(i)||{};return e.sendMessage(s("existBan",i,n?`${s("reason")}: "${n}"`:"",a?`${s("at")} ${a}`:""),r,o)}const m=global.data.userName.get(i)||await t.getNameUser(i);return e.sendMessage(s("returnBan",`${i} - ${m}`,d?`\n- ${s("reason")}: ${d}`:""),r,((e,a)=>{global.client.handleReaction.push({type:"ban",targetID:i,reason:d,nameTarget:m,name:this.config.name,messageID:a.messageID,author:n.senderID})}),o)};